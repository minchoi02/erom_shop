<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="BaseShop">

	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="BaseShopVO" type="egovframework.base.shop.service.BaseShopVO"/>

	<select id="get_main_item_top" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				org.PROD_ORDERBY,
				org.PROD_STOCK_SET,
				org.PROD_STOCK_CNT,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_HIT_CNT,
				org.PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_REVIEW_CNT,
				org.PROD_USE_COUPON_ST,
				org.PROD_USE_MILEAGE_ST,
				org.PROD_USE_PAY_ST,
				org.PROD_RESERVE_LIMIT,
				org.PROD_BUNDLE_DELIVERY,
				org.PROD_CONTENT_TIME,
				org.PROD_CONTENT_PAY,
				org.PROD_CONTENT_PRECAUTIONS,
				org.PROD_CONTENT_COURSE,
				org.PROD_IMG_1,
				org.PROD_IMG_2,
				org.PROD_IMG_3,
				org.PROD_IMG_4,
				org.PROD_IMG_5,
				org.PROD_IMG_6,
				org.PROD_IMG_7,
				org.PROD_IMG_8,
				org.PROD_IMG_9,
				org.PROD_IMG_10,
				org.PROD_MOVIE,
				org.PROD_MAKER,
				org.PROD_COUNTRY,
				substr(org.REG_DT,1,10) as REG_DT,
				substr(org.MOD_DT,1,10) as MOD_DT,
			]]>
			<isEqual property="store_category" compareValue="CD002005">
			<![CDATA[
				org.PROD_RECOM_1,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_USE_ST,
				org.PROD_RECOM_2,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_USE_ST,
				org.PROD_RECOM_3,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_USE_ST,
				org.PROD_RECOM_4,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_USE_ST,
				org.PROD_RECOM_5,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_USE_ST,
				org.PROD_RECOM_6,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_USE_ST,
				org.PROD_RECOM_7,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_USE_ST,
				org.PROD_RECOM_8,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_USE_ST,
				org.PROD_RECOM_9,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_USE_ST,
				org.PROD_RECOM_10,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_USE_ST,
			]]>
			</isEqual>
			<![CDATA[
				(select count(*) from base_favorite_prod_tb fav where USER_ID=#user_id# AND fav.PROD_ID = org.PROD_ID) AS is_fav
			from base_product_tb org
			where 1
				and org.DEL_ST = 'N'
				and org.PROD_USE_ST != 'N'
				and org.PROD_ST_DT <= now()
				and org.PROD_ED_DT >= now() 
				and org.STORE_CATEGORY = #store_category#
			order by
				org.PROD_ORDERBY desc, 
				org.PROD_HIT_CNT desc, 
				org.PROD_PICK_CNT desc,
				org.PROD_ORDER_CNT desc,
				org.PROD_STAR desc,
				org.REG_DT desc
			limit #sql_limit#
		]]>
	</select>
	
	<select id="get_site_prod_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#			

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>
	
	
	<select id="get_special_best_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_INFO_1
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#
				and PROD_CATEGORY = 'CD005005'			

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
		<![CDATA[			
		order by 
		PROD_ORDER_CNT desc,
		PROD_REVIEW_CNT desc,
		PROD_HIT_CNT desc 
		LIMIT 0,6
		]]>	
		
	</select>	
	
	<select id="get_best_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_INFO_1
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#
							

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
		<![CDATA[			
		order by 
		PROD_ORDER_CNT desc,
		PROD_REVIEW_CNT desc,
		PROD_HIT_CNT desc 
		LIMIT 0,10
		]]>	
		
	</select>	

	
<select id="get_site_prod_list_tag" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#			

		]]>
		<isNotEmpty property="prod_content_precautions"  prepend="AND">
		<![CDATA[
			PROD_CONTENT_PRECAUTIONS LIKE CONCAT('%',#prod_content_precautions#,'%')
		]]>
		</isNotEmpty>		
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>	
	
<select id="get_index_prod_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = 'CD002004'	
		

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>	
		
	
	<select id="get_index_prod_list_1" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = 'CD002004'	
				and PROD_CATEGORY = 'CD005001'		

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>	
	
	
	<select id="get_index_prod_list_2" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = 'CD002004'	
				and PROD_CATEGORY = 'CD005002'						

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>	
	
			
	<select id="get_index_prod_list_3" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = 'CD002004'	
				and PROD_CATEGORY = 'CD005003'						

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>	
	
	
	<select id="get_index_prod_list_4" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = 'CD002004'			
				and PROD_CATEGORY = 'CD005004'
		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>		

<select id="get_index_prod_list_5" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = 'CD002004'
				and PROD_CATEGORY = 'CD005005'							

		]]>
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>		
	
	<select id="get_site_main_prod_list_recom_travel" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				org.PROD_ORDERBY,
				org.PROD_STOCK_SET,
				org.PROD_STOCK_CNT,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_HIT_CNT,
				org.PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_REVIEW_CNT,
				org.PROD_MOVIE,
				org.PROD_MAKER,
				org.PROD_COUNTRY,
				substr(org.REG_DT,1,10) as REG_DT,
				substr(org.MOD_DT,1,10) as MOD_DT,
				org.PROD_AGE,
				org.PROD_SEASON,
				org.PROD_TRAVEL_TYPE,
				org.PROD_RECOM_1,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_USE_ST,
				org.PROD_RECOM_2,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_USE_ST,
				org.PROD_RECOM_3,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_USE_ST,
				org.PROD_RECOM_4,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_USE_ST,
				org.PROD_RECOM_5,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_USE_ST,
				org.PROD_RECOM_6,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_USE_ST,
				org.PROD_RECOM_7,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_USE_ST,
				org.PROD_RECOM_8,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_USE_ST,
				org.PROD_RECOM_9,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_USE_ST,
				org.PROD_RECOM_10,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_USE_ST,
				(select count(*) from base_favorite_prod_tb fav where USER_ID=#user_id# AND fav.PROD_ID = org.PROD_ID) AS is_fav
			from base_product_tb org
			where 1
				and org.DEL_ST = 'N'
		]]>
		<isNotEmpty property="store_category"  prepend="AND">
		<![CDATA[
			org.STORE_CATEGORY = #store_category#
		]]>
		</isNotEmpty>	
		<isNotEmpty property="prod_use_st"  prepend="AND">
		<![CDATA[
			org.PROD_USE_ST = #prod_use_st#
		]]>
		</isNotEmpty>	
		<isNotEmpty property="searchKeyword">
			<isEqual prepend="AND" property="searchKey" compareValue="prod_nm">
			<![CDATA[
				org.PROD_NM like CONCAT('%',#searchKeyword#,'%')
			]]>
			</isEqual>
		</isNotEmpty>			 
		<![CDATA[
			order by org.PROD_ORDERBY desc, org.PROD_HIT_CNT desc, org.PROD_PICK_CNT desc, org.PROD_STAR desc
			limit #sql_limit#
		]]>
	</select>
	<select id="get_site_main_prod_list_recom_travel_cnt" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)
			from base_product_tb org
			where 1
				and org.DEL_ST = 'N'
		]]>
		<isNotEmpty property="store_category"  prepend="AND">
		<![CDATA[
			org.STORE_CATEGORY = #store_category#
		]]>
		</isNotEmpty>	
		<isNotEmpty property="prod_use_st"  prepend="AND">
		<![CDATA[
			org.PROD_USE_ST = #prod_use_st#
		]]>
		</isNotEmpty>	
		<isNotEmpty property="searchKeyword">
			<isEqual prepend="AND" property="searchKey" compareValue="prod_nm">
			<![CDATA[
				org.PROD_NM like CONCAT('%',#searchKeyword#,'%')
			]]>
			</isEqual>
		</isNotEmpty>			 
		<![CDATA[
			order by org.PROD_ORDERBY desc, org.PROD_HIT_CNT desc, org.PROD_PICK_CNT desc, org.PROD_STAR desc
			limit #sql_limit#
		]]>
	</select>

	<select id="get_site_prod_list_cnt" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)
			from base_product_tb
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>	
		</isNotEmpty>	 		
	</select>
	
	<select id="get_site_prod_list_cnt_tag" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)
			from base_product_tb
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="prod_content_precautions"  prepend="AND">
		<![CDATA[
			PROD_CONTENT_PRECAUTIONS LIKE CONCAT('%',#prod_content_precautions#,'%')
		]]>
		</isNotEmpty>			
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>	
		</isNotEmpty>	 		
	</select>	
	

	<select id="get_site_prod_list_special" parameterClass="BaseShopVO" resultClass="BaseShopVO">
			<![CDATA[
			select 
				PROD_SEQ,
				PROD_USE_ST,
				STORE_ID,
				STORE_NM,
				STORE_CATEGORY,
				PROD_ID,
				PROD_NM,
				PROD_CATEGORY,
				PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = PROD_CATEGORY) as PROD_CATEGORY_NM,
				PROD_COMMENT,
				PROD_CONTENT,
				PROD_CONTENT_2,
				PROD_MARKET_PRICE,
				PROD_PRICE,
				PROD_PRICE_PERCENT,
				PROD_MIN_PRICE,
				PROD_ORDERBY,
				PROD_STOCK_SET,
				PROD_STOCK_CNT,
				substr(PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				PROD_HIT_CNT,
				PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = PROD_ID) as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = PROD_ID) as PROD_REVIEW_CNT,
				PROD_USE_COUPON_ST,
				PROD_USE_MILEAGE_ST,
				PROD_USE_PAY_ST,
				PROD_RESERVE_LIMIT,
				PROD_BUNDLE_DELIVERY,
				PROD_CONTENT_TIME,
				PROD_CONTENT_PAY,
				PROD_CONTENT_PRECAUTIONS,
				PROD_CONTENT_COURSE,
				PROD_IMG_1,
				PROD_IMG_2,
				PROD_IMG_3,
				PROD_IMG_4,
				PROD_IMG_5,
				PROD_IMG_6,
				PROD_IMG_7,
				PROD_IMG_8,
				PROD_IMG_9,
				PROD_IMG_10,
				PROD_MOVIE,
				PROD_MAKER,
				PROD_COUNTRY,
				substr(REG_DT,1,10) as REG_DT,
				substr(MOD_DT,1,10) as MOD_DT,
				PROD_AGE,
				PROD_SEASON,
				PROD_TRAVEL_TYPE,
				PROD_INFO_1,
				PROD_INFO_2,
				PROD_INFO_3,
				PROD_INFO_4,
				PROD_INFO_5,
				PROD_INFO_6,
				PROD_INFO_7,
				PROD_INFO_8,
				PROD_INFO_9,
				PROD_INFO_10,
				PROD_INFO_11,
				PROD_INFO_12,
				PROD_INFO_13,
				PROD_INFO_14,
				PROD_INFO_15,
				PROD_TRADE_INFO_1,
				PROD_TRADE_INFO_2,
				PROD_TRADE_INFO_3,
				PROD_TRADE_INFO_4,
				PROD_TRADE_INFO_5,
				PROD_RECOM_1,
				PROD_RECOM_2,
				PROD_RECOM_3,
				PROD_RECOM_4,
				PROD_RECOM_5,
				PROD_RECOM_6,
				PROD_RECOM_7,
				PROD_RECOM_8,
				PROD_RECOM_9,
				PROD_RECOM_10,
				(SELECT COUNT(*) FROM base_product_tb b
					WHERE 1 AND 
					b.PROD_ID != a.PROD_ID AND b.STORE_CATEGORY = 'CD002005'
					AND 
					( b.PROD_RECOM_1 = a.PROD_ID OR b.PROD_RECOM_2 = a.PROD_ID OR b.PROD_RECOM_3 = a.PROD_ID OR b.PROD_RECOM_4 = a.PROD_ID OR b.PROD_RECOM_5 = a.PROD_ID 
					OR 
					b.PROD_RECOM_6 = a.PROD_ID OR b.PROD_RECOM_7 = a.PROD_ID OR b.PROD_RECOM_8 = a.PROD_ID OR b.PROD_RECOM_9 = a.PROD_ID OR b.PROD_RECOM_10 = a.PROD_ID ) 
				) as is_recom 
			from base_product_tb a
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#			

		]]>
		<isNotEmpty property="prod_content_precautions"  prepend="AND">
		<![CDATA[
			PROD_CONTENT_PRECAUTIONS LIKE CONCAT('%',#prod_content_precautions#,'%')
		]]>
		</isNotEmpty>				
		<isNotEmpty property="user_id"  prepend="AND">
		<![CDATA[
			(SELECT USER_ID FROM base_store_tb WHERE base_store_tb.STORE_ID = a.STORE_ID AND base_store_tb.STORE_USE_ST = 'Y') = #user_id#
		]]>
		</isNotEmpty>	
		<isNotEmpty property="store_id" prepend="AND">
		<![CDATA[
				STORE_ID = #store_id#
		]]>
		</isNotEmpty>		
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>	
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>
		</isNotEmpty>	
		
			<isEmpty property="orderby">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEmpty>		
<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Recom">
			<![CDATA[
				order by 
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					PROD_ORDERBY desc,
					PROD_ORDER_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					PROD_ORDER_CNT desc,
					PROD_ORDERBY desc,
					PROD_REVIEW_CNT desc,
					REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					REG_DT desc,
					PROD_REVIEW_CNT desc,
					PROD_HIT_CNT desc, 
					PROD_ORDER_CNT desc
			]]>
			</isEqual>
		</isNotEmpty>				 
		<![CDATA[			
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
		]]>	
		
	</select>


	<select id="get_site_prod_list_cnt_special" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)
			from base_product_tb
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="prod_content_precautions"  prepend="AND">
		<![CDATA[
			PROD_CONTENT_PRECAUTIONS LIKE CONCAT('%',#prod_content_precautions#,'%')
		]]>
		</isNotEmpty>				
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<isNotEmpty property="store_id" prepend="AND">
		<![CDATA[
				STORE_ID = #store_id#
		]]>
		</isNotEmpty>		
		<isNotEmpty property="searchKeyword" prepend="AND">
		<![CDATA[
			$search_sql$
		]]>	
		</isNotEmpty>	 		
	</select>		
		
	<select id="get_site_prod_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				org.PROD_ORDERBY,
				org.PROD_STOCK_SET,
				org.PROD_STOCK_CNT,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_HIT_CNT,
				org.PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_REVIEW_CNT,
				org.PROD_USE_COUPON_ST,
				org.PROD_USE_MILEAGE_ST,
				org.PROD_USE_PAY_ST,
				org.PROD_RESERVE_LIMIT,
				org.PROD_BUNDLE_DELIVERY,
				org.PROD_CONTENT_TIME,
				org.PROD_CONTENT_PAY,
				org.PROD_CONTENT_PRECAUTIONS,
				org.PROD_CONTENT_COURSE,
				org.PROD_IMG_1,
				org.PROD_IMG_2,
				org.PROD_IMG_3,
				org.PROD_IMG_4,
				org.PROD_IMG_5,
				org.PROD_IMG_6,
				org.PROD_IMG_7,
				org.PROD_IMG_8,
				org.PROD_IMG_9,
				org.PROD_IMG_10,
				org.PROD_MOVIE,
				org.PROD_MAKER,
				org.PROD_COUNTRY,
				substr(org.REG_DT,1,10) as REG_DT,
				substr(org.MOD_DT,1,10) as MOD_DT,
				org.PROD_INFO_1,
				org.PROD_INFO_2,
				org.PROD_INFO_3,
				org.PROD_INFO_4,
				org.PROD_INFO_5,
				org.PROD_INFO_6,
				org.PROD_INFO_7,
				org.PROD_INFO_8,
				org.PROD_INFO_9,
				org.PROD_INFO_10,
				org.PROD_INFO_11,
				org.PROD_INFO_12,
				org.PROD_INFO_13,
				org.PROD_INFO_14,
				org.PROD_INFO_15,
				org.PROD_TRADE_INFO_1,
				org.PROD_TRADE_INFO_2,
				org.PROD_TRADE_INFO_3,
				org.PROD_TRADE_INFO_4,
				org.PROD_TRADE_INFO_5,
				org.PROD_RECOM_1,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_USE_ST,
				org.PROD_RECOM_2,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_USE_ST,
				org.PROD_RECOM_3,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_USE_ST,
				org.PROD_RECOM_4,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_USE_ST,
				org.PROD_RECOM_5,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_USE_ST,
				org.PROD_RECOM_6,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_USE_ST,
				org.PROD_RECOM_7,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_USE_ST,
				org.PROD_RECOM_8,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_USE_ST,
				org.PROD_RECOM_9,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_USE_ST,
				org.PROD_RECOM_10,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_USE_ST,
				(select count(*) from base_favorite_prod_tb fav where fav.USER_ID=#user_id# AND fav.PROD_ID = org.PROD_ID) AS is_fav
			from base_product_tb org
			where 1
				and org.DEL_ST = 'N'
				and org.PROD_USE_ST != 'N'
				and org.PROD_ST_DT <= now()
				and org.PROD_ED_DT >= now() 
		]]>
		<isNotEmpty property="store_category" prepend="AND">
		<![CDATA[
				org.STORE_CATEGORY = #store_category#
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				org.PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<![CDATA[
				and org.PROD_ID = #prod_id#
		]]>
	</select>
	
	<select id="get_site_prod_simple_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				org.PROD_ORDERBY,
				org.PROD_STOCK_SET,
				org.PROD_STOCK_CNT,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_HIT_CNT,
				org.PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_REVIEW_CNT,
				org.PROD_USE_COUPON_ST,
				org.PROD_USE_MILEAGE_ST,
				org.PROD_USE_PAY_ST,
				org.PROD_RESERVE_LIMIT,
				org.PROD_BUNDLE_DELIVERY,
				org.PROD_CONTENT_TIME,
				org.PROD_CONTENT_PAY,
				org.PROD_CONTENT_PRECAUTIONS,
				org.PROD_CONTENT_COURSE,
				org.PROD_IMG_1,
				org.PROD_IMG_2,
				org.PROD_IMG_3,
				org.PROD_IMG_4,
				org.PROD_IMG_5,
				org.PROD_IMG_6,
				org.PROD_IMG_7,
				org.PROD_IMG_8,
				org.PROD_IMG_9,
				org.PROD_IMG_10,
				org.PROD_MOVIE,
				org.PROD_MAKER,
				org.PROD_COUNTRY,
				substr(org.REG_DT,1,10) as REG_DT,
				substr(org.MOD_DT,1,10) as MOD_DT,
				org.PROD_INFO_1,
				org.PROD_INFO_2,
				org.PROD_INFO_3,
				org.PROD_INFO_4,
				org.PROD_INFO_5,
				org.PROD_INFO_6,
				org.PROD_INFO_7,
				org.PROD_INFO_8,
				org.PROD_INFO_9,
				org.PROD_INFO_10,
				org.PROD_INFO_11,
				org.PROD_INFO_12,
				org.PROD_INFO_13,
				org.PROD_INFO_14,
				org.PROD_INFO_15,
				org.PROD_TRADE_INFO_1,
				org.PROD_TRADE_INFO_2,
				org.PROD_TRADE_INFO_3,
				org.PROD_TRADE_INFO_4,
				org.PROD_TRADE_INFO_5,
				org.PROD_RECOM_1,
				org.PROD_RECOM_2,
				org.PROD_RECOM_3,
				org.PROD_RECOM_4,
				org.PROD_RECOM_5,
				org.PROD_RECOM_6,
				org.PROD_RECOM_7,
				org.PROD_RECOM_8,
				org.PROD_RECOM_9,
				org.PROD_RECOM_10,
				org.PROD_RECOM_1,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_USE_ST,
				org.PROD_RECOM_2,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_USE_ST,
				org.PROD_RECOM_3,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_USE_ST,
				org.PROD_RECOM_4,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_USE_ST,
				org.PROD_RECOM_5,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_USE_ST,
				org.PROD_RECOM_6,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_USE_ST,
				org.PROD_RECOM_7,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_USE_ST,
				org.PROD_RECOM_8,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_USE_ST,
				org.PROD_RECOM_9,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_USE_ST,
				org.PROD_RECOM_10,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_USE_ST,
				(select count(*) from base_favorite_prod_tb fav where fav.USER_ID=#user_id# AND fav.PROD_ID = org.PROD_ID) AS is_fav
			from base_product_tb org
			where 1
				and org.DEL_ST = 'N'
				and org.PROD_USE_ST != 'N'
				and org.PROD_ST_DT <= now()
				and org.PROD_ED_DT >= now() 
				and org.STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				org.PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<![CDATA[
				and org.PROD_ID = #prod_id#
		]]>
	</select>
	
	<select id="get_site_store_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				base_store_tb.STORE_SEQ,
				base_store_tb.USER_ID,
				(select base_member_tb.USER_SEQ from base_member_tb where base_member_tb.USER_ID = base_store_tb.USER_ID) as USER_SEQ, 
				base_store_tb.STORE_ID,
				base_store_tb.STORE_NM,
				base_store_tb.STORE_COMPANY_NM,
				base_store_tb.STORE_CEO_NM,
				base_store_tb.STORE_NUMBER,
				base_store_tb.STORE_AUTH_NUMBER,
				base_store_tb.STORE_TO_NUMBER,
				base_store_tb.STORE_EMAIL,
				base_store_tb.STORE_TEL,
				base_store_tb.STORE_FAX,
				base_store_tb.STORE_HP_1,
				base_store_tb.STORE_HP_2,
				base_store_tb.STORE_ZIP,
				base_store_tb.STORE_ADDR_1,
				base_store_tb.STORE_ADDR_2,
				base_store_tb.STORE_URL,
				base_store_tb.STORE_URL_NAVER_BLOG,
				base_store_tb.STORE_URL_NAVER_CAFE,
				base_store_tb.STORE_URL_FACEBOOK,
				base_store_tb.STORE_URL_TWITTER,
				base_store_tb.STORE_URL_INSTAGRAM,
				base_store_tb.STORE_URL_YOUTUBE,
				base_store_tb.STORE_LAT,
				base_store_tb.STORE_LNG,
				base_store_tb.STORE_INTRODUCTION,
				base_store_tb.STORE_ADMIN_MEMO,
				base_store_tb.STORE_USE_ST,
				base_store_tb.STORE_BANK_NM_CD,
				(select base_code_cd_tb.BASE_CD_NM from base_code_cd_tb where base_code_cd_tb.BASE_CD = base_store_tb.STORE_BANK_NM_CD) as STORE_BANK_NM,
				base_store_tb.STORE_BANK_NUMBER,
				base_store_tb.STORE_BANK_USER_NM,
				base_store_tb.STORE_IMG_1,
				base_store_tb.STORE_IMG_2,
				base_store_tb.STORE_IMG_3,
				base_store_tb.STORE_IMG_4,
				base_store_tb.STORE_IMG_5,
				base_store_tb.STORE_IMG_6,
				base_store_tb.STORE_IMG_7,
				base_store_tb.STORE_IMG_8,
				base_store_tb.STORE_IMG_9,
				base_store_tb.STORE_IMG_10,
				substr(base_store_tb.REG_DT,1,19) as REG_DT, 
				substr(base_store_tb.MOD_DT,1,19) as MOD_DT, 
				substr(base_store_tb.WITHDRAW_DT,1,19) as WITHDRAW_DT, 
				base_store_tb.STORE_USE_TRAVEL,
				base_store_tb.STORE_USE_HOUSE,
				base_store_tb.STORE_USE_FOOD,
				base_store_tb.STORE_USE_MARKET,
				base_store_tb.STORE_TRAVEL_CALC_PERCENT,
				base_store_tb.STORE_HOUSE_CALC_PERCENT,
				base_store_tb.STORE_FOOD_CALC_PERCENT,
				base_store_tb.STORE_MARKET_CALC_PERCENT,
				base_store_tb.STORE_HOUSE_READY_DATE_ST_DT,
				base_store_tb.STORE_HOUSE_READY_DATE_ED_DT,
				base_store_tb.STORE_HOUSE_BUSY_DATE_ST_DT,
				base_store_tb.STORE_HOUSE_BUSY_DATE_ED_DT,
				base_store_tb.STORE_HOUSE_READY2_DATE_ST_DT,
				base_store_tb.STORE_HOUSE_READY2_DATE_ED_DT,
				base_store_tb.STORE_FOOD_RESERVE_TIME,
				base_store_tb.STORE_TRAVEL_MIN_ORDER_PRICE,
				base_store_tb.STORE_HOUSE_MIN_ORDER_PRICE,
				base_store_tb.STORE_FOOD_MIN_ORDER_PRICE,
				base_store_tb.STORE_TRAVEL_RETURN_DAY_7,
				base_store_tb.STORE_TRAVEL_RETURN_DAY_5,
				base_store_tb.STORE_TRAVEL_RETURN_DAY_3,
				base_store_tb.STORE_TRAVEL_RETURN_DAY_2,
				base_store_tb.STORE_TRAVEL_RETURN_DAY_1,
				base_store_tb.STORE_TRAVEL_RETURN_DAY_0,
				base_store_tb.STORE_HOUSE_RETURN_DAY_7,
				base_store_tb.STORE_HOUSE_RETURN_DAY_5,
				base_store_tb.STORE_HOUSE_RETURN_DAY_3,
				base_store_tb.STORE_HOUSE_RETURN_DAY_2,
				base_store_tb.STORE_HOUSE_RETURN_DAY_1,
				base_store_tb.STORE_HOUSE_RETURN_DAY_0,
				base_store_tb.STORE_FOOD_RETURN_DAY_7,
				base_store_tb.STORE_FOOD_RETURN_DAY_5,
				base_store_tb.STORE_FOOD_RETURN_DAY_3,
				base_store_tb.STORE_FOOD_RETURN_DAY_2,
				base_store_tb.STORE_FOOD_RETURN_DAY_1,
				base_store_tb.STORE_FOOD_RETURN_DAY_0,
				base_store_tb.STORE_MARKET_DELIVERY_company_cd_1,
				(select base_code_cd_tb.BASE_CD_NM from base_code_cd_tb where base_code_cd_tb.BASE_CD = base_store_tb.STORE_MARKET_DELIVERY_company_cd_1) as STORE_MARKET_DELIVERY_COMPANY_NM_1,
				base_store_tb.STORE_market_delivery_company_cd_2,
				(select base_code_cd_tb.BASE_CD_NM from base_code_cd_tb where base_code_cd_tb.BASE_CD = base_store_tb.STORE_MARKET_DELIVERY_company_cd_1) as STORE_MARKET_DELIVERY_COMPANY_NM_2,
				base_store_tb.STORE_market_delivery_company_cd_3,
				(select base_code_cd_tb.BASE_CD_NM from base_code_cd_tb where base_code_cd_tb.BASE_CD = base_store_tb.STORE_MARKET_DELIVERY_company_cd_1) as STORE_MARKET_DELIVERY_COMPANY_NM_3,
				base_store_tb.STORE_MARKET_DEFAULT_DELIVERY_PRICE,
				base_store_tb.STORE_MARKET_FREE_DELIVERY_PRICE,
				base_store_tb.STORE_MARKET_JEJU_DELIVERY_PRICE,
				base_store_tb.STORE_TRAVEL_RESERVE_NOTE,
				base_store_tb.STORE_HOUSE_RESERVE_NOTE,
				base_store_tb.STORE_FOOD_RESERVE_NOTE,
				base_store_tb.STORE_MARKET_RETURNCHANGE,
				base_store_tb.STORE_MARKET_DELIVERY,
				base_store_tb.STORE_MARKET_ORDER_NOTE,
				(select count(*) from base_product_tb where base_product_tb.STORE_ID = base_store_tb.STORE_ID and base_product_tb.STORE_CATEGORY = 'CD002001') as TRAVEL_PROD_CNT,
				(select count(*) from base_product_tb where base_product_tb.STORE_ID = base_store_tb.STORE_ID and base_product_tb.STORE_CATEGORY = 'CD002002') as HOUSE_PROD_CNT,
				(select count(*) from base_product_tb where base_product_tb.STORE_ID = base_store_tb.STORE_ID and base_product_tb.STORE_CATEGORY = 'CD002003') as FOOD_PROD_CNT,
				(select count(*) from base_product_tb where base_product_tb.STORE_ID = base_store_tb.STORE_ID and base_product_tb.STORE_CATEGORY = 'CD002004') as MARKET_PROD_CNT,
				base_store_tb.STORE_INFO_1,
				base_store_tb.STORE_INFO_2,
				base_store_tb.STORE_INFO_3,
				base_store_tb.STORE_INFO_4,
				base_store_tb.STORE_INFO_5,
				base_store_tb.STORE_INFO1_1,
				base_store_tb.STORE_INFO1_2,
				base_store_tb.STORE_INFO1_3,
				base_store_tb.STORE_INFO1_4,
				base_store_tb.STORE_INFO1_5,
				base_store_tb.STORE_INFO2_1,
				base_store_tb.STORE_INFO2_2,
				base_store_tb.STORE_INFO2_3,
				base_store_tb.STORE_INFO2_4,
				base_store_tb.STORE_INFO2_5,
				base_store_tb.STORE_INFO2_6,
				base_store_tb.STORE_INFO2_7,
				base_store_tb.STORE_INFO3_1,
				base_store_tb.STORE_INFO3_2,
				base_store_tb.STORE_INFO3_3,
				base_store_tb.STORE_INFO3_4,
				base_store_tb.STORE_INFO3_5,
				base_store_tb.STORE_INFO3_6,
				base_store_tb.STORE_INFO3_7,
				base_store_tb.STORE_INFO3_8,
				base_store_tb.STORE_INFO3_9,
				base_store_tb.STORE_INFO3_10,
				base_store_tb.STORE_INFO4_1,
				base_store_tb.STORE_INFO4_2,
				base_store_tb.STORE_INFO4_3,
				base_store_tb.STORE_INFO4_4,
				base_store_tb.STORE_INFO4_5,
				base_store_tb.STORE_INFO4_6,
				base_store_tb.STORE_INFO4_7,
				base_store_tb.STORE_INFO4_8,
				base_store_tb.STORE_INFO4_9,
				base_store_tb.STORE_INFO4_10,
				base_store_tb.STORE_INFO4_11,
				base_store_tb.STORE_INFO5_1,
				base_store_tb.STORE_INFO5_2,
				base_store_tb.STORE_INFO5_3,
				base_store_tb.STORE_INFO5_4,
				base_store_tb.STORE_INFO5_5,
				base_store_tb.STORE_INFO5_6,
				base_store_tb.STORE_INFO5_7,
				base_store_tb.STORE_INFO5_8,
				base_store_tb.STORE_INFO5_9,
				base_store_tb.STORE_INFO5_10,
				base_store_tb.STORE_INFO6_1,
				base_store_tb.STORE_INFO6_2,
				base_store_tb.STORE_INFO6_3,
				base_store_tb.STORE_INFO6_4,
				base_store_tb.STORE_INFO6_5,
				base_store_tb.STORE_INFO6_6,
				base_store_tb.STORE_INFO6_7,
				base_store_tb.STORE_INFO6_8,
				base_store_tb.STORE_INFO6_9,
				base_store_tb.STORE_INFO6_10,
				base_store_tb.STORE_INFO6_11,
				base_store_tb.STORE_INFO6_12,
				base_store_tb.STORE_INFO6_13,
				base_store_tb.STORE_INFO7_1,
				base_store_tb.STORE_INFO7_2,
				base_store_tb.STORE_INFO7_3,
				base_store_tb.STORE_INFO7_4,
				base_store_tb.STORE_INFO7_5,
				base_store_tb.STORE_INFO7_6,
				base_store_tb.STORE_INFO7_7,
				base_store_tb.STORE_INFO7_8,
				base_store_tb.STORE_INFO7_9,
				base_store_tb.STORE_INFO7_10,
				base_store_tb.STORE_INFO7_11,
				base_store_tb.STORE_INFO8_1,
				base_store_tb.STORE_INFO8_2,
				base_store_tb.STORE_INFO8_3,
				base_store_tb.STORE_INFO8_4,
				base_store_tb.STORE_INFO8_5
			from base_store_tb
			where 
				base_store_tb.STORE_ID = #store_id#
		]]>
	</select>
	
	<update id="pick_plus" parameterClass="baseShopVO">
	<![CDATA[
		update base_product_tb set
			PROD_PICK_CNT = PROD_PICK_CNT + 1
		where 1
			and PROD_ID = #prod_id# 
	]]>
	</update>

	<update id="pick_minus" parameterClass="baseShopVO">
	<![CDATA[
		update base_product_tb set
			PROD_PICK_CNT = PROD_PICK_CNT - 1
		where 1
			and PROD_ID = #prod_id# 
	]]>
	</update>

	<select id="get_cp_info" parameterClass="baseShopVO" resultClass="baseShopVO">
		<![CDATA[
			select 
				base_coupon_tb.COUPON_SEQ,
				base_coupon_tb.COUPON_ID,
				base_coupon_tb.COUPON_NM,
				base_coupon_tb.STORE_CATEGORY,
				(select base_code_cd_tb.BASE_CD_NM from base_code_cd_tb where base_code_cd_tb.BASE_CD = base_coupon_tb.STORE_CATEGORY ) as STORE_CATEGORY_NM,
				base_coupon_tb.COUPON_SET_ST,
				base_coupon_tb.COUPON_SET_PRICE,
				substr(base_coupon_tb.COUPON_ST_DT,1,16) as COUPON_ST_DT, 
				substr(base_coupon_tb.COUPON_ST_DT,1,10) as COUPON_ST_DT_YMD, 
				substr(base_coupon_tb.COUPON_ST_DT,12,2) as COUPON_ST_DT_HOUR, 
				substr(base_coupon_tb.COUPON_ST_DT,15,2) as COUPON_ST_DT_MINUTE, 
				substr(base_coupon_tb.COUPON_ED_DT,1,16) as COUPON_ED_DT, 
				substr(base_coupon_tb.COUPON_ED_DT,1,10) as COUPON_ED_DT_YMD, 
				substr(base_coupon_tb.COUPON_ED_DT,12,2) as COUPON_ED_DT_HOUR, 
				substr(base_coupon_tb.COUPON_ED_DT,15,2) as COUPON_ED_DT_MINUTE, 
				CASE 
				WHEN ((SELECT COUPON_USE_STATUS FROM base_coupon_member_tb WHERE base_coupon_member_tb.COUPON_ID = base_coupon_tb.COUPON_ID AND base_coupon_member_tb.USER_ID = #user_id#) = 'Y') THEN 'Y'
				WHEN ((SELECT COUPON_USE_STATUS FROM base_coupon_member_tb WHERE base_coupon_member_tb.COUPON_ID = base_coupon_tb.COUPON_ID AND base_coupon_member_tb.USER_ID = #user_id#) = 'E') THEN 'E'
				ELSE 'N'
				END AS COUPON_HAVE_STATUS,
				base_coupon_tb.COUPON_USE_ST,
				base_coupon_tb.REG_DT,
				substr(base_coupon_tb.REG_DT,1,10) as REG_DT_YMD, 
				substr(base_coupon_tb.REG_DT,12,8) as REG_DT_HIS, 
				base_coupon_tb.MOD_DT,
				base_coupon_tb.DEL_DT,
				CASE
					WHEN (NOW() > base_coupon_tb.COUPON_ED_DT) THEN 'E'
					WHEN (NOW() < base_coupon_tb.COUPON_ST_DT) THEN 'R'
			        ELSE 'I'
				END as COUPON_USE_STATUS
			from base_coupon_tb
			where 
				base_coupon_tb.COUPON_ID = #coupon_id# 
		]]>
	</select>
	
	<select id="get_option_list" parameterClass="baseShopVO" resultClass="baseShopVO">
		<![CDATA[
			select
				OPT_SEQ,
				PROD_ID,
				OPT_ORDERBY,
				OPT_NM,
				OPT_PRICE,
				OPT_USE_ST,
				OPT_DEL_ST
			from base_product_opt_tb
			where 1
			and OPT_USE_ST = 'Y'
			and OPT_DEL_ST = 'N'
			and PROD_ID = #prod_id#
		]]>
	</select>

	<select id="get_site_prod_ajax_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				org.PROD_ORDERBY,
				org.PROD_STOCK_SET,
				org.PROD_STOCK_CNT,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_HIT_CNT,
				org.PROD_PICK_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'QNA' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_QNA_CNT,
				(select count(*) from base_bbs_tb where BBS_ID = 'REVIEW' and BBS_PROD_ID = org.PROD_ID and DEL_ST = 'N') as PROD_REVIEW_CNT,
				org.PROD_USE_COUPON_ST,
				org.PROD_USE_MILEAGE_ST,
				org.PROD_USE_PAY_ST,
				org.PROD_RESERVE_LIMIT,
				org.PROD_BUNDLE_DELIVERY,
				org.PROD_CONTENT_TIME,
				org.PROD_CONTENT_PAY,
				org.PROD_CONTENT_PRECAUTIONS,
				org.PROD_CONTENT_COURSE,
				org.PROD_IMG_1,
				org.PROD_IMG_2,
				org.PROD_IMG_3,
				org.PROD_IMG_4,
				org.PROD_IMG_5,
				org.PROD_IMG_6,
				org.PROD_IMG_7,
				org.PROD_IMG_8,
				org.PROD_IMG_9,
				org.PROD_IMG_10,
				org.PROD_MOVIE,
				org.PROD_MAKER,
				org.PROD_COUNTRY,
				substr(org.REG_DT,1,10) as REG_DT,
				substr(org.MOD_DT,1,10) as MOD_DT,
				org.PROD_INFO_1,
				org.PROD_INFO_2,
				org.PROD_INFO_3,
				org.PROD_INFO_4,
				org.PROD_INFO_5,
				org.PROD_INFO_6,
				org.PROD_INFO_7,
				org.PROD_INFO_8,
				org.PROD_INFO_9,
				org.PROD_INFO_10,
				org.PROD_INFO_11,
				org.PROD_INFO_12,
				org.PROD_INFO_13,
				org.PROD_INFO_14,
				org.PROD_INFO_15,
				org.PROD_TRADE_INFO_1,
				org.PROD_TRADE_INFO_2,
				org.PROD_TRADE_INFO_3,
				org.PROD_TRADE_INFO_4,
				org.PROD_TRADE_INFO_5,
			]]>
			<isEqual property="store_category" compareValue="CD002005">
			<![CDATA[				
				org.PROD_RECOM_1,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_1) AS RECOM_1_USE_ST,
				org.PROD_RECOM_2,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_2) AS RECOM_2_USE_ST,
				org.PROD_RECOM_3,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_3) AS RECOM_3_USE_ST,
				org.PROD_RECOM_4,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_4) AS RECOM_4_USE_ST,
				org.PROD_RECOM_5,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_5) AS RECOM_5_USE_ST,
				org.PROD_RECOM_6,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_6) AS RECOM_6_USE_ST,
				org.PROD_RECOM_7,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_7) AS RECOM_7_USE_ST,
				org.PROD_RECOM_8,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_8) AS RECOM_8_USE_ST,
				org.PROD_RECOM_9,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_9) AS RECOM_9_USE_ST,
				org.PROD_RECOM_10,
				(SELECT recom.PROD_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_NM,
				(SELECT recom.STORE_NM FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_NM,
				(SELECT recom.PROD_COMMENT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_COMMENT,
				(SELECT recom.STORE_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_STORE_CATEGORY,
				(SELECT recom.PROD_CATEGORY FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PROD_CATEGORY,
				(SELECT recom.PROD_PICK_CNT FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_PICK_CNT,
				(SELECT recom.PROD_IMG_1 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_IMG,
				(SELECT recom.PROD_IMG_2 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_2_IMG,
				(SELECT recom.PROD_IMG_3 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_3_IMG,
				(SELECT recom.PROD_IMG_4 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_4_IMG,
				(SELECT recom.PROD_IMG_5 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_5_IMG,
				(SELECT recom.PROD_IMG_6 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_6_IMG,
				(SELECT recom.PROD_IMG_7 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_7_IMG,
				(SELECT recom.PROD_IMG_8 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_8_IMG,
				(SELECT recom.PROD_IMG_9 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_9_IMG,
				(SELECT recom.PROD_IMG_10 FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_10_IMG,
				(SELECT recom.PROD_USE_ST FROM base_product_tb recom WHERE recom.PROD_ID = org.PROD_RECOM_10) AS RECOM_10_USE_ST,
			]]>
			</isEqual>
			<![CDATA[	
				(select count(*) from base_favorite_prod_tb fav where USER_ID=#user_id# AND fav.PROD_ID = org.PROD_ID) AS is_fav
			from base_product_tb org
			where 1
				and org.DEL_ST = 'N'
				and org.PROD_USE_ST != 'N'
				and org.PROD_ST_DT <= now()
				and org.PROD_ED_DT >= now() 
				and org.STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="store_id" prepend="AND">
		<![CDATA[
				org.STORE_ID = #store_id#
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				org.PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_age" prepend="AND">
		<![CDATA[
				org.PROD_AGE like CONCAT('%',#prod_age#,'%')
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_season" prepend="AND">
		<![CDATA[
				org.PROD_SEASON like CONCAT('%',#prod_season#,'%')
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_travel_type" prepend="AND">
		<![CDATA[
				org.PROD_TRAVEL_TYPE like CONCAT('%',#prod_category#,'%')
		]]>
		</isNotEmpty>
		<isNotEmpty property="orderby" >
			<isEqual property="orderby" compareValue="Review">
			<![CDATA[
				order by 
					PROD_REVIEW_CNT desc,
					org.PROD_HIT_CNT desc, 
					org.PROD_PICK_CNT desc,
					org.PROD_ORDER_CNT desc,
					org.PROD_STAR desc,
					org.REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Sale">
			<![CDATA[
				order by 
					org.PROD_ORDER_CNT desc,
					PROD_REVIEW_CNT desc,
					org.PROD_HIT_CNT desc, 
					org.PROD_PICK_CNT desc,
					org.PROD_STAR desc,
					org.REG_DT desc
			]]>
			</isEqual>
			<isEqual property="orderby" compareValue="Date">
			<![CDATA[
				order by 
					org.REG_DT desc,
					PROD_REVIEW_CNT desc,
					org.PROD_HIT_CNT desc, 
					org.PROD_PICK_CNT desc,
					org.PROD_ORDER_CNT desc,
					org.PROD_STAR desc
			]]>
			</isEqual>
		</isNotEmpty>
		<![CDATA[	
			limit #sql_start#, #sql_limit#
		]]>
	</select>

	<select id="get_site_prod_ajax_list_cnt" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)
			from base_product_tb
			where 1
				and DEL_ST = 'N'
				and PROD_USE_ST != 'N'
				and PROD_ST_DT <= now()
				and PROD_ED_DT >= now() 
				and STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="prod_category" prepend="AND">
		<![CDATA[
				PROD_CATEGORY = #prod_category#
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_age" prepend="AND">
		<![CDATA[
				PROD_AGE like CONCAT('%',#prod_age#,'%')
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_season" prepend="AND">
		<![CDATA[
				PROD_SEASON like CONCAT('%',#prod_season#,'%')
		]]>
		</isNotEmpty>
		<isNotEmpty property="prod_travel_type" prepend="AND">
		<![CDATA[
				PROD_TRAVEL_TYPE like CONCAT('%',#prod_category#,'%')
		]]>
		</isNotEmpty>
	</select>
	
	<select id="get_prod_room_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				PROD_ROOM_SEQ,
				PROD_ROOM_USE_ST,
				PROD_ID,
				PROD_ROOM_NM,
				PROD_ROOM_ORDERBY,
				PROD_ROOM_CONTENT_1,
				PROD_ROOM_CONTENT_2,
				PROD_ROOM_IMG_1,
				PROD_ROOM_IMG_2,
				PROD_ROOM_IMG_3,
				PROD_ROOM_IMG_4,
				PROD_ROOM_IMG_5,
				PROD_ROOM_IMG_6,
				PROD_ROOM_IMG_7,
				PROD_ROOM_IMG_8,
				PROD_ROOM_IMG_9,
				PROD_ROOM_IMG_10,
				PROD_ROOM_MOVIE,
				PROD_ROOM_DEFAULT_CNT,
				PROD_ROOM_MAX_CNT,
				PROD_ROOM_ADULT_PRICE,
				PROD_ROOM_YOUNG_PRICE,
				PROD_ROOM_NORMAL_NORMAL_PRICE,
				PROD_ROOM_NORMAL_NORMAL_SALE_PRICE,
				PROD_ROOM_NORMAL_HOLIDAY_PRICE,
				PROD_ROOM_NORMAL_HOLIDAY_SALE_PRICE,
				PROD_ROOM_READY_NORMAL_PRICE,
				PROD_ROOM_READY_NORMAL_SALE_PRICE,
				PROD_ROOM_READY_HOLIDAY_PRICE,
				PROD_ROOM_READY_HOLIDAY_SALE_PRICE,
				PROD_ROOM_READY2_NORMAL_PRICE,
				PROD_ROOM_READY2_NORMAL_SALE_PRICE,
				PROD_ROOM_READY2_HOLIDAY_PRICE,
				PROD_ROOM_READY2_HOLIDAY_SALE_PRICE,
				PROD_ROOM_BUSY_NORMAL_PRICE,
				PROD_ROOM_BUSY_NORMAL_SALE_PRICE,
				PROD_ROOM_BUSY_HOLIDAY_PRICE,
				PROD_ROOM_BUSY_HOLIDAY_SALE_PRICE,
				DEL_ST
			from base_product_room_tb
			where 1
				and DEL_ST = 'N'
				and PROD_ID = #prod_id#
		]]>
		<isNotEmpty property="reserve_st_dt">
		<isNotEmpty property="reserve_ed_dt">
		<![CDATA[
			and (SELECT COUNT(*) FROM base_order_prod_detail_tb WHERE 1 
			AND OD_PROD_ID = #prod_id# 
			AND OD_ST_DT >= #reserve_st_dt# 
			AND OD_ED_DT <= #reserve_ed_dt# 
			AND OD_ROOM_SEQ = PROD_ROOM_SEQ) = 0
		]]>
		</isNotEmpty>
		</isNotEmpty>
		<![CDATA[
				order by 
					PROD_ROOM_ORDERBY asc,
					PROD_ROOM_SEQ desc
		]]>
	</select>
	
	<select id="get_site_room_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				PROD_ROOM_SEQ,
				PROD_ROOM_USE_ST,
				PROD_ID,
				PROD_ROOM_NM,
				PROD_ROOM_ORDERBY,
				PROD_ROOM_CONTENT_1,
				PROD_ROOM_CONTENT_2,
				PROD_ROOM_IMG_1,
				PROD_ROOM_IMG_2,
				PROD_ROOM_IMG_3,
				PROD_ROOM_IMG_4,
				PROD_ROOM_IMG_5,
				PROD_ROOM_IMG_6,
				PROD_ROOM_IMG_7,
				PROD_ROOM_IMG_8,
				PROD_ROOM_IMG_9,
				PROD_ROOM_IMG_10,
				PROD_ROOM_MOVIE,
				PROD_ROOM_DEFAULT_CNT,
				PROD_ROOM_MAX_CNT,
				PROD_ROOM_ADULT_PRICE,
				PROD_ROOM_YOUNG_PRICE,
				PROD_ROOM_NORMAL_NORMAL_PRICE,
				PROD_ROOM_NORMAL_NORMAL_SALE_PRICE,
				PROD_ROOM_NORMAL_HOLIDAY_PRICE,
				PROD_ROOM_NORMAL_HOLIDAY_SALE_PRICE,
				PROD_ROOM_READY_NORMAL_PRICE,
				PROD_ROOM_READY_NORMAL_SALE_PRICE,
				PROD_ROOM_READY_HOLIDAY_PRICE,
				PROD_ROOM_READY_HOLIDAY_SALE_PRICE,
				PROD_ROOM_READY2_NORMAL_PRICE,
				PROD_ROOM_READY2_NORMAL_SALE_PRICE,
				PROD_ROOM_READY2_HOLIDAY_PRICE,
				PROD_ROOM_READY2_HOLIDAY_SALE_PRICE,
				PROD_ROOM_BUSY_NORMAL_PRICE,
				PROD_ROOM_BUSY_NORMAL_SALE_PRICE,
				PROD_ROOM_BUSY_HOLIDAY_PRICE,
				PROD_ROOM_BUSY_HOLIDAY_SALE_PRICE,
				DEL_ST
			from base_product_room_tb
			where 1
				and DEL_ST = 'N'
		]]>
		<isNotEmpty property="reserve_st_dt">
		<isNotEmpty property="reserve_ed_dt">
		<![CDATA[
				and (SELECT COUNT(*) FROM base_order_prod_detail_tb WHERE 1 
				AND OD_PROD_ID = #prod_id# 
				AND OD_ST_DT >= #reserve_st_dt# 
				AND OD_ED_DT <= #reserve_ed_dt# 
				AND OD_ROOM_SEQ = PROD_ROOM_SEQ) = 0
		]]>
		</isNotEmpty>
		</isNotEmpty>
		<![CDATA[				
				and PROD_ROOM_SEQ= #prod_room_seq#
		]]>
	</select>
	
	<select id="get_fav_zone_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_IMG_1,
				org.PROD_IMG_2,
				org.PROD_IMG_3,
				org.PROD_IMG_4,
				org.PROD_IMG_5,
				org.PROD_IMG_6,
				org.PROD_IMG_7,
				org.PROD_IMG_8,
				org.PROD_IMG_9,
				org.PROD_IMG_10,
				substr(org.REG_DT,1,10) as REG_DT				
			from base_favorite_prod_tb fav, base_product_tb org
			where 1
				and fav.USER_ID = #user_id#
				and fav.PROD_ID = org.PROD_ID
				and (org.STORE_CATEGORY = 'CD002001' or org.STORE_CATEGORY = 'CD002002' or org.STORE_CATEGORY = 'CD002003') 
			order by fav.REG_DT desc
			limit #sql_start#, #sql_limit#
		]]>
	</select>
	<select id="get_fav_zone_list_cnt" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)		
			from base_favorite_prod_tb fav, base_product_tb org
			where 1
				and fav.USER_ID = #user_id#
				and fav.PROD_ID = org.PROD_ID
				and (org.STORE_CATEGORY = 'CD002001' or org.STORE_CATEGORY = 'CD002002' or org.STORE_CATEGORY = 'CD002003') 
		]]>
	</select>
	
	<select id="get_fav_market_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				org.PROD_SEQ,
				org.PROD_USE_ST,
				org.STORE_ID,
				org.STORE_NM,
				org.STORE_CATEGORY,
				org.PROD_ID,
				org.PROD_NM,
				org.PROD_CATEGORY,
				org.PROD_CATEGORY_CD,
				(select BASE_CD_NM from base_code_cd_tb where BASE_CD = org.PROD_CATEGORY) as PROD_CATEGORY_NM,
				org.PROD_COMMENT,
				org.PROD_CONTENT,
				org.PROD_CONTENT_2,
				org.PROD_MARKET_PRICE,
				org.PROD_PRICE,
				org.PROD_PRICE_PERCENT,
				org.PROD_MIN_PRICE,
				substr(org.PROD_ST_DT,1,16) as PROD_ST_DT, 
				substr(org.PROD_ST_DT,1,10) as PROD_ST_DT_YMD, 
				substr(org.PROD_ST_DT,12,2) as PROD_ST_DT_HOUR, 
				substr(org.PROD_ST_DT,15,2) as PROD_ST_DT_MINUTE, 
				substr(org.PROD_ED_DT,1,16) as PROD_ED_DT, 
				substr(org.PROD_ED_DT,1,10) as PROD_ED_DT_YMD, 
				substr(org.PROD_ED_DT,12,2) as PROD_ED_DT_HOUR, 
				substr(org.PROD_ED_DT,15,2) as PROD_ED_DT_MINUTE,
				org.PROD_IMG_1,
				org.PROD_IMG_2,
				org.PROD_IMG_3,
				org.PROD_IMG_4,
				org.PROD_IMG_5,
				org.PROD_IMG_6,
				org.PROD_IMG_7,
				org.PROD_IMG_8,
				org.PROD_IMG_9,
				org.PROD_IMG_10,
				substr(org.REG_DT,1,10) as REG_DT				
			from base_favorite_prod_tb fav, base_product_tb org
			where 1
				and fav.USER_ID = #user_id#
				and fav.PROD_ID = org.PROD_ID
				and org.STORE_CATEGORY = 'CD002004' 
			order by fav.REG_DT desc
			limit #sql_start#, #sql_limit#
		]]>
	</select>
	
	<select id="get_fav_market_list_cnt" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)				
			from base_favorite_prod_tb fav, base_product_tb org
			where 1
				and fav.USER_ID = #user_id#
				and fav.PROD_ID = org.PROD_ID
				and org.STORE_CATEGORY = 'CD002004' 
		]]>
	</select>
	
	<select id="get_has_coupon" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)				
			from base_coupon_member_tb
			where 1
				and USER_ID = #user_id#
				and COUPON_ID = #coupon_id#
		]]>
	</select>
	
	<insert id="issue_coupon" parameterClass="BaseShopVO" >
		<![CDATA[
			insert into  base_coupon_member_tb
				(
				COUPON_ID,
				USER_ID,
				COUPON_USE_STATUS,
				REG_DT
				) values (
				#coupon_id#,
				#user_id#,
				'Y',
				now()
				)
		]]>
	</insert>
	
	
	<select id="get_day_check" parameterClass="BaseShopVO" resultClass="BaseShopVO" >
		<![CDATA[
			select 
			CASE
				WHEN(#set_date# BETWEEN STORE_HOUSE_READY_DATE_ST_DT AND STORE_HOUSE_READY_DATE_ED_DT) THEN "R"
				WHEN(#set_date# BETWEEN STORE_HOUSE_READY2_DATE_ST_DT AND STORE_HOUSE_READY2_DATE_ED_DT) THEN "R2"
				WHEN(#set_date# BETWEEN STORE_HOUSE_BUSY_DATE_ST_DT AND STORE_HOUSE_BUSY_DATE_ED_DT) THEN "B"
				ELSE "N"
			END as ROOM_DAY_CHECK
			from base_store_tb
			where 
			STORE_ID = #store_id#
		]]>
	</select>
	
	<insert id="cart_save" parameterClass="BaseShopVO" >
		<![CDATA[
			insert into base_cart_tb
			(
			SESS_ID, USER_ID, STORE_CATEGORY, STORE_ID, STORE_NM, PROD_CATEGORY, PROD_ID, PROD_NM, PROD_PRICE, PROD_PRICE_PERCENT, PROD_ROOM_SEQ,
			OPT_SEQS, OPT_NMS, OPT_PRICES, OPT_CNTS,
			TOTAL_PRICE,
			RESERVE_ST_DT, RESERVE_ED_DT, RESERVE_TIME, RESERVE_USER_NM, RESERVE_USER_CALL,
			REG_DT
			)
			values
			( 
			#sess_id#, #user_id#, #store_category#, #store_id#, #store_nm#, #prod_category#, #prod_id#, #prod_nm#, #prod_price#, #prod_price_percent#, #prod_room_seq#,
			#opt_seqs#, #opt_nms#, #opt_prices#, #opt_cnts#,
			#total_price#,
			#reserve_st_dt#, #reserve_ed_dt#, #reserve_time#, #reserve_user_nm#, #reserve_user_call#,
			now()
			)
		]]>
		<selectKey type="post" keyProperty="insert_id" resultClass="int">
		<![CDATA[
			select LAST_INSERT_ID() as insert_id
		]]>
		</selectKey>
	</insert>
	
	<select id="get_cart_cnt" parameterClass="BaseShopVO" resultClass="int">
		<![CDATA[
			select 
				count(*)
			from base_cart_tb
			where 1
				and USER_ID = #user_id#
		]]>
		<isNotEmpty property="sql_or" prepend="AND">
		<![CDATA[
			CART_SEQ in $sql_or$
		]]>
		</isNotEmpty>				
		<![CDATA[
			order by STORE_CATEGORY asc
		]]>
	</select>

	<select id="get_cart_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				base_cart_tb.CART_SEQ,           
				base_cart_tb.SESS_ID,           
				base_cart_tb.USER_ID,           
				base_cart_tb.STORE_CATEGORY,           
				base_cart_tb.STORE_ID,           
				base_cart_tb.STORE_NM,           
				base_cart_tb.PROD_CATEGORY,           
				base_cart_tb.PROD_ID,           
				base_cart_tb.PROD_NM,           
				base_cart_tb.PROD_PRICE,
				          
				base_cart_tb.PROD_ROOM_SEQ,
				(select PROD_ROOM_NM from base_product_room_tb where base_product_room_tb.PROD_ROOM_SEQ = base_cart_tb.PROD_ROOM_SEQ) as PROD_ROOM_NM,           
				base_cart_tb.OPT_SEQS,           
				base_cart_tb.OPT_NMS,           
				base_cart_tb.OPT_PRICES,           
				base_cart_tb.OPT_CNTS,           
				base_cart_tb.TOTAL_PRICE,           
				base_cart_tb.RESERVE_ST_DT,
				substr(base_cart_tb.RESERVE_ST_DT,1,4) as RESERVE_ST_DT_YEAR,
				substr(base_cart_tb.RESERVE_ST_DT,6,2) as RESERVE_ST_DT_MONTH,
				substr(base_cart_tb.RESERVE_ST_DT,9,2) as RESERVE_ST_DT_DATE,
				base_cart_tb.RESERVE_ED_DT,           
				substr(base_cart_tb.RESERVE_ED_DT,1,4) as RESERVE_ED_DT_YEAR,
				substr(base_cart_tb.RESERVE_ED_DT,6,2) as RESERVE_ED_DT_MONTH,
				substr(base_cart_tb.RESERVE_ED_DT,9,2) as RESERVE_ED_DT_DATE, 
				base_cart_tb.RESERVE_TIME,           
				substr(base_cart_tb.RESERVE_TIME,1,2) as RESERVE_TIME_HOUR,     
				substr(base_cart_tb.RESERVE_TIME,4,2) as RESERVE_TIME_MINUTE,
				base_cart_tb.RESERVE_USER_NM,           
				base_cart_tb.RESERVE_USER_CALL,           
				base_cart_tb.REG_DT,
				(SELECT base_product_tb.PROD_IMG_1 FROM base_product_tb WHERE base_cart_tb.prod_id = base_product_tb.prod_id) AS PROD_IMG_1,
				(SELECT base_product_tb.PROD_MIN_PRICE FROM base_product_tb WHERE base_cart_tb.prod_id = base_product_tb.prod_id) AS PROD_MIN_PRICE,
				(SELECT base_store_tb.STORE_MARKET_DEFAULT_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_DEFAULT_DELIVERY_PRICE,
				(SELECT base_store_tb.STORE_MARKET_FREE_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_FREE_DELIVERY_PRICE,
				(SELECT base_store_tb.STORE_MARKET_JEJU_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_JEJU_DELIVERY_PRICE
			FROM base_cart_tb LEFT JOIN base_product_tb 
			ON base_cart_tb.prod_id = base_product_tb.prod_id
			where 1 
				and base_cart_tb.USER_ID = #user_id#
				and base_cart_tb.STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="sql_or" prepend="AND">
		<![CDATA[
			CART_SEQ in $sql_or$
		]]>
		</isNotEmpty>				
		<![CDATA[
			order by base_cart_tb.STORE_ID desc, base_cart_tb.CART_SEQ asc
		]]>
	</select>
	<select id="get_cart_delivery_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				base_cart_tb.STORE_CATEGORY,           
				base_cart_tb.STORE_ID,
				base_cart_tb.STORE_NM,
				sum(base_cart_tb.PROD_PRICE+base_cart_tb.TOTAL_PRICE) as TOTAL_PRICE        
				(SELECT base_store_tb.STORE_MARKET_DEFAULT_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_DEFAULT_DELIVERY_PRICE,
				(SELECT base_store_tb.STORE_MARKET_FREE_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_FREE_DELIVERY_PRICE,
				(SELECT base_store_tb.STORE_MARKET_JEJU_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_JEJU_DELIVERY_PRICE
			FROM base_cart_tb LEFT JOIN base_product_tb 
			ON base_cart_tb.prod_id = base_product_tb.prod_id
			where 1 
				and base_cart_tb.USER_ID = #user_id#
				and base_cart_tb.STORE_CATEGORY = #store_category#
		]]>
		<isNotEmpty property="sql_or" prepend="AND">
		<![CDATA[
			CART_SEQ in $sql_or$
		]]>
		</isNotEmpty>				
		<![CDATA[
			group by base_cart_tb.STORE_ID
			order by base_cart_tb.STORE_ID desc
		]]>
	</select>
	
	<select id="get_cart_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				base_cart_tb.CART_SEQ,           
				base_cart_tb.SESS_ID,           
				base_cart_tb.USER_ID,           
				base_cart_tb.STORE_CATEGORY,           
				base_cart_tb.STORE_ID,           
				base_cart_tb.STORE_NM,           
				base_cart_tb.PROD_CATEGORY,           
				base_cart_tb.PROD_ID,           
				base_cart_tb.PROD_NM,           
				base_cart_tb.PROD_PRICE,    
				base_cart_tb.PROD_PRICE_PERCENT,       
				base_cart_tb.PROD_ROOM_SEQ,           
				base_cart_tb.OPT_SEQS,           
				base_cart_tb.OPT_NMS,           
				base_cart_tb.OPT_PRICES,           
				base_cart_tb.OPT_CNTS,           
				base_cart_tb.TOTAL_PRICE,           
				base_cart_tb.RESERVE_ST_DT,
				substr(base_cart_tb.RESERVE_ST_DT,1,4) as RESERVE_ST_DT_YEAR,
				substr(base_cart_tb.RESERVE_ST_DT,6,2) as RESERVE_ST_DT_MONTH,
				substr(base_cart_tb.RESERVE_ST_DT,9,2) as RESERVE_ST_DT_DATE,
				base_cart_tb.RESERVE_ED_DT,           
				substr(base_cart_tb.RESERVE_ED_DT,1,4) as RESERVE_ED_DT_YEAR,
				substr(base_cart_tb.RESERVE_ED_DT,6,2) as RESERVE_ED_DT_MONTH,
				substr(base_cart_tb.RESERVE_ED_DT,9,2) as RESERVE_ED_DT_DATE, 
				base_cart_tb.RESERVE_TIME,           
				substr(base_cart_tb.RESERVE_TIME,1,2) as RESERVE_TIME_HOUR,     
				substr(base_cart_tb.RESERVE_TIME,4,2) as RESERVE_TIME_MINUTE,
				base_cart_tb.RESERVE_USER_NM,           
				base_cart_tb.RESERVE_USER_CALL,           
				base_cart_tb.REG_DT,
				(SELECT base_product_tb.PROD_IMG_1 FROM base_product_tb WHERE base_cart_tb.prod_id = base_product_tb.prod_id) AS PROD_IMG_1,
				(SELECT base_store_tb.STORE_MARKET_DEFAULT_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_DEFAULT_DELIVERY_PRICE,
				(SELECT base_store_tb.STORE_MARKET_FREE_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_FREE_DELIVERY_PRICE,
				(SELECT base_store_tb.STORE_MARKET_JEJU_DELIVERY_PRICE FROM base_store_tb WHERE base_cart_tb.store_id = base_store_tb.store_id) AS STORE_MARKET_JEJU_DELIVERY_PRICE
			FROM base_cart_tb LEFT JOIN base_product_tb 
			ON base_cart_tb.prod_id = base_product_tb.prod_id
			where 1 
				and base_cart_tb.CART_SEQ = #cart_seq#
		]]>
	</select>
		
	<select id="get_member_coupon_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				cpm.CM_SEQ,           
				cpm.COUPON_ID,           
				cpm.USER_ID,           
				cpm.COUPON_USE_STATUS,           
				cpm.COUPON_USE_DT,           
				cpm.REG_DT,           
				cp.COUPON_SEQ,              
				cp.COUPON_NM,              
				cp.STORE_CATEGORY,              
				cp.COUPON_SET_ST,  
				cp.COUPON_SET_PRICE,              
				cp.COUPON_ST_DT,              
				cp.COUPON_ED_DT,              
				cp.COUPON_USE_ST              
			from base_coupon_member_tb cpm, base_coupon_tb cp
			where 1
				and cpm.USER_ID = #user_id#
				and cp.COUPON_ST_DT <= now()
				and cp.COUPON_ED_DT > now()
				and cp.COUPON_USE_ST = 'Y'
				and cpm.COUPON_USE_STATUS = 'Y'
		]]>
	</select>
 	<select id="get_site_coupon_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				COUPON_SEQ,              
				COUPON_NM,              
				STORE_CATEGORY,              
				COUPON_SET_ST,  
				COUPON_SET_PRICE,              
				COUPON_ST_DT,              
				COUPON_ED_DT,              
				COUPON_USE_ST              
			from base_coupon_tb cp
			where 1
				and COUPON_ID = #coupon_id#
		]]>
	</select>
 	
	<delete id="del_cart_category" parameterClass="BaseShopVO">
	<![CDATA[
		delete 
		from base_cart_tb 
		where 1
			and user_id = #user_id#
			and store_category = #store_category# 
	]]>
	</delete>
	
	<delete id="del_cart_item" parameterClass="BaseShopVO">
	<![CDATA[
		delete 
		from base_cart_tb 
		where 1
			and user_id = #user_id#
			and cart_seq = #cart_seq#
	]]>
	</delete>
	
	<!--   -->
	<select id="get_order_id_check" parameterClass="BaseShopVO" resultClass="int">
	<![CDATA[
		select 
			count(*) 
		from base_order_tb 
		where 1
			and ORDER_ID = #order_id#
	]]>
	</select>
	
	<insert id="set_order_master" parameterClass="BaseShopVO">
	<![CDATA[
		insert into base_order_tb
		(
		ORDER_ID,               
		ORDER_USER_ID,
		ORDER_USER_NM,          
		ORDER_HP,
		ORDER_TEL,
		ORDER_EMAIL,
		ORDER_ADDR_ID,
		ORDER_ZIP,
		ORDER_ADDR1,
		ORDER_ADDR2,
		ORDER_TOTAL_PRICE,
		ORDER_USE_COUPON_ID,
		ORDER_COUPON_PRICE,
		ORDER_USE_MILEAGE,
		ORDER_SAVE_MILEAGE,
		ORDER_TOTAL_DELIVERY_PRICE,
		ORDER_PAY_ST,
		ORDER_PAY_CD,
		ORDER_PAY_VBANK_CD,
		ORDER_PAY_VBANK_NM,
		ORDER_PAY_VBANK_NUMBER,
		ORDER_PAY_VBANK_USER,
		ORDER_PAY_TIME,
		ORDER_PAY_STAT,
		ORDER_ST,
		ORDER_MEMO,
		REG_DT
		) values (
		#order_id#,               
		#order_user_id#,
		#order_user_nm#,          
		#order_hp#,
		#order_tel#,
		#order_email#,
		#order_addr_id#,
		#order_zip#,
		#order_addr1#,
		#order_addr2#,
		#order_total_price#,
		#order_use_coupon_id#,
		#order_coupon_price#,
		#order_use_mileage#,
		#order_save_mileage#,
		#order_total_delivery_price#,
		#order_pay_st#,
		#order_pay_cd#,
		#order_pay_vbank_cd#,
		#order_pay_vbank_nm#,
		#order_pay_vbank_number#,
		#order_pay_vbank_user#,
		#order_pay_time#,
		#order_pay_stat#,
		#order_st#,
		#order_memo#,
		now()
		)
	]]>
	</insert>
	
	<insert id="set_order_detail" parameterClass="BaseShopVO">
	<![CDATA[
		insert into base_order_prod_detail_tb
		(
		OD_ORDER_ID,
		OD_STORE_ID,
		OD_PROD_ID,
		OD_PROD_NM,
		OD_ROOM_SEQ,
		OD_STORE_CATEGORY,
		OD_PROD_CATEGORY,
		OD_PROD_PRICE,
		OD_PROD_PRICE_PERCENT,
		OD_PROD_OPT_SEQ,
		OD_PROD_OPT_NM,
		OD_PROD_OPT_PRICE,
		OD_PROD_OPT_CNT,
		OD_PROD_TOTAL_PRICE,
		OD_ST_DT,
		OD_ED_DT,
		OD_USER_NM,
		OD_USER_CALL,
		OD_ORDER_STAT
		) values (
		#od_order_id#,
		#od_store_id#,
		#od_prod_id#,
		#od_prod_nm#,
		#od_room_seq#,
		#od_store_category#,
		#od_prod_category#,
		#od_prod_price#,
		#od_prod_price_percent#,
		#od_prod_opt_seq#,
		#od_prod_opt_nm#,
		#od_prod_opt_price#,
		#od_prod_opt_cnt#,
		#od_prod_total_price#,
		#od_st_dt#,
		#od_ed_dt#,
		#od_user_nm#,
		#od_user_call#,
		#od_order_stat#
		)
	]]>
	</insert>
	
	<delete id="set_cart_delete" parameterClass="BaseShopVO">
	<![CDATA[
		delete from base_cart_tb where CART_SEQ = #cart_seq#
	]]>
	</delete>
	
	<select id="get_site_order_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			om.ORDER_SEQ,               
			om.ORDER_ID,
			om.ORDER_USER_ID,
			om.ORDER_USER_NM,          
			om.ORDER_HP,
			om.ORDER_TEL,
			om.ORDER_EMAIL,
			om.ORDER_ADDR_ID,
			om.ORDER_ZIP,
			om.ORDER_ADDR1,
			om.ORDER_ADDR2,
			om.ORDER_TOTAL_PRICE,
			om.ORDER_ST,
			substr(om.REG_DT,1,10) as REG_DT
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_STORE_CATEGORY = #store_category#
			and om.ORDER_USER_ID = #user_id#
			group by om.ORDER_ID
			order by om.REG_DT DESC
	]]>
	</select>
	<select id="get_site_order_detail_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			om.ORDER_SEQ,               
			om.ORDER_USER_ID,
			(select base_product_tb.PROD_IMG_1 from base_product_tb where  base_product_tb.PROD_ID = od.OD_PROD_ID) as PROD_IMG_1,
			od.OD_ORDER_ID,
			od.OD_STORE_ID,
			(select base_store_tb.STORE_NM from base_store_tb where  base_store_tb.STORE_ID = od.OD_STORE_ID) as STORE_NM,
			od.OD_PROD_ID,
			od.OD_PROD_NM,
			od.OD_ROOM_SEQ,
			od.OD_STORE_CATEGORY,
			od.OD_PROD_CATEGORY,
			od.OD_PROD_PRICE,
			od.OD_PROD_PRICE_PERCENT,
			od.OD_PROD_OPT_SEQ,
			od.OD_PROD_OPT_NM,
			od.OD_PROD_OPT_PRICE,
			od.OD_PROD_OPT_CNT,
			od.OD_PROD_TOTAL_PRICE,
			od.OD_ST_DT,
			od.OD_ED_DT,
			od.OD_USER_NM,
			od.OD_USER_CALL,
			od.OD_ORDER_STAT,
			od.OD_STAT,
			od.OD_END_DATE
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_STORE_CATEGORY = #store_category#
			and od.OD_ORDER_ID = #od_order_id#
			and om.ORDER_USER_ID = #user_id#
			order by om.REG_DT DESC
	]]>
	</select>
	<select id="get_site_order_reserve_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			om.ORDER_SEQ,               
			om.ORDER_USER_ID,
			(select base_product_tb.PROD_IMG_1 from base_product_tb where  base_product_tb.PROD_ID = od.OD_PROD_ID) as PROD_IMG_1,
			(select base_product_tb.PROD_COMMENT from base_product_tb where  base_product_tb.PROD_ID = od.OD_PROD_ID) as PROD_COMMENT,
			od.OD_ORDER_ID,
			od.OD_STORE_ID,
			(select base_store_tb.STORE_NM from base_store_tb where  base_store_tb.STORE_ID = od.OD_STORE_ID) as STORE_NM,
			od.OD_SEQ,
			od.OD_PROD_ID,
			od.OD_PROD_NM,
			od.OD_ROOM_SEQ,
			od.OD_STORE_CATEGORY,
			od.OD_PROD_CATEGORY,
			od.OD_PROD_PRICE,
			od.OD_PROD_PRICE_PERCENT,
			od.OD_PROD_OPT_SEQ,
			od.OD_PROD_OPT_NM,
			od.OD_PROD_OPT_PRICE,
			od.OD_PROD_OPT_CNT,
			od.OD_PROD_TOTAL_PRICE,
			od.OD_ST_DT,
			od.OD_ED_DT,
			od.OD_USER_NM,
			od.OD_USER_CALL,
			od.OD_ORDER_STAT,
			od.OD_STAT,
			od.OD_END_DATE
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_STORE_CATEGORY = #store_category#
			and om.ORDER_USER_ID = #user_id#
			order by om.REG_DT DESC
	]]>
	</select>
	
	<select id="get_site_order_all_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			ORDER_SEQ,               
			ORDER_ID,
			ORDER_USER_ID,
			ORDER_USER_NM,          
			ORDER_HP,
			ORDER_TEL,
			ORDER_EMAIL,
			ORDER_ADDR_ID,
			ORDER_ZIP,
			ORDER_ADDR1,
			ORDER_ADDR2,
			ORDER_TOTAL_PRICE,
			ORDER_COUPON_PRICE,
			ORDER_USE_MILEAGE,
			ORDER_TOTAL_DELIVERY_PRICE,
			ORDER_PAY_ST,
			ORDER_ST,
			ORDER_PAY_VBANK_NM,
			ORDER_PAY_VBANK_NUMBER,
			ORDER_PAY_VBANK_USER,
			substr(REG_DT,1,10) as REG_DT
		from base_order_tb
		where 1
			and ORDER_USER_ID = #user_id#
			order by ORDER_SEQ desc
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
	]]>
	</select>
	<select id="get_site_order_master_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			ORDER_SEQ,               
			ORDER_ID,
			ORDER_USER_ID,
			ORDER_USER_NM,          
			ORDER_HP,
			ORDER_TEL,
			ORDER_EMAIL,
			ORDER_ADDR_ID,
			ORDER_ZIP,
			ORDER_ADDR1,
			ORDER_ADDR2,
			ORDER_TOTAL_PRICE,
			ORDER_COUPON_PRICE,
			ORDER_USE_MILEAGE,
			ORDER_TOTAL_DELIVERY_PRICE,
			ORDER_PAY_ST,
			ORDER_ST,
			ORDER_PAY_VBANK_CD,
			ORDER_PAY_VBANK_NM,
			ORDER_PAY_VBANK_NUMBER,
			ORDER_PAY_VBANK_USER,
			ORDER_PAY_TIME,
			ORDER_PAY_STAT,
			substr(REG_DT,1,10) as REG_DT
		from base_order_tb
		where 1
			and ORDER_USER_ID = #user_id#
			and ORDER_ID = #order_id#
			order by REG_DT DESC
	]]>
	</select>
	<select id="get_site_order_all_list_cnt" parameterClass="BaseShopVO" resultClass="int">
	<![CDATA[
		select
			count(*)
		from base_order_tb
		where 1
			and ORDER_USER_ID = #user_id#
	]]>
	</select>
	<select id="get_site_order_detail_all_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			om.ORDER_SEQ,               
			om.ORDER_USER_ID,
			om.ORDER_USER_NM, 
			(select base_product_tb.PROD_IMG_1 from base_product_tb where  base_product_tb.PROD_ID = od.OD_PROD_ID) as PROD_IMG_1,
			om.ORDER_ST,
			om.ORDER_HP,
			om.ORDER_TEL,
			om.ORDER_EMAIL,
			om.ORDER_ZIP,
			om.ORDER_ADDR1,
			om.ORDER_ADDR2,
			om.ORDER_PAY_ST,
			od.OD_ORDER_ID,
			od.OD_STORE_ID,
			(select base_store_tb.STORE_NM from base_store_tb where  base_store_tb.STORE_ID = od.OD_STORE_ID) as STORE_NM,
			od.OD_SEQ,
			od.OD_PROD_ID,
			od.OD_PROD_NM,
			od.OD_ROOM_SEQ,
			(select PROD_ROOM_NM from base_product_room_tb where base_product_room_tb.PROD_ROOM_SEQ = od.OD_ROOM_SEQ) as PROD_ROOM_NM,  
			od.OD_STORE_CATEGORY,
			od.OD_PROD_CATEGORY,
			od.OD_PROD_PRICE,
			od.OD_PROD_PRICE_PERCENT,
			od.OD_PROD_OPT_SEQ,
			od.OD_PROD_OPT_NM,
			od.OD_PROD_OPT_PRICE,
			od.OD_PROD_OPT_CNT,
			od.OD_PROD_TOTAL_PRICE,
			od.OD_DELIVERY_COMPANY_ID,
			(SELECT  base_code_cd_tb.BASE_CD_NM FROM base_code_cd_tb WHERE base_code_cd_tb.BASE_CD = od.OD_DELIVERY_COMPANY_ID) AS delivery_company_nm,
			od.OD_DELIVERY_NUMBER,
			od.OD_ST_DT,
			od.OD_ED_DT,
			od.OD_USER_NM,
			od.OD_USER_CALL,
			od.OD_ORDER_STAT,
			od.OD_STAT,
			od.OD_END_DATE
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_ORDER_ID = #od_order_id#
			and om.ORDER_USER_ID = #user_id#
			order by od.OD_STORE_CATEGORY ASC
	]]>
	</select>
	
	<select id="is_order_use" parameterClass="BaseShopVO" resultClass="int">
	<![CDATA[
		select
			count(*)
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_SEQ = #od_seq#
			and om.ORDER_USER_ID = #user_id#
			and od.OD_STAT != 'Y'
	]]>
	</select>
	<update id="use_save" parameterClass="BaseShopVO">
	<![CDATA[
		update base_order_prod_detail_tb set
			OD_ORDER_STAT = 'COMPLETE',
			OD_STAT = 'Y',
			OD_END_DATE = now()
		where 1
			and OD_SEQ = #od_seq#
	]]>
	</update>
	
	
	<select id="get_site_my_order_no_market_detail_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			om.ORDER_SEQ,               
			om.ORDER_USER_ID,
			(select base_product_tb.PROD_IMG_1 from base_product_tb where  base_product_tb.PROD_ID = od.OD_PROD_ID) as PROD_IMG_1,
			od.OD_ORDER_ID,
			od.OD_STORE_ID,
			(select base_store_tb.STORE_NM from base_store_tb where  base_store_tb.STORE_ID = od.OD_STORE_ID) as STORE_NM,
			od.OD_PROD_ID,
			od.OD_PROD_NM,
			od.OD_ROOM_SEQ,
			od.OD_STORE_CATEGORY,
			od.OD_PROD_CATEGORY,
			od.OD_PROD_PRICE,
			od.OD_PROD_PRICE_PERCENT,
			od.OD_PROD_OPT_SEQ,
			od.OD_PROD_OPT_NM,
			od.OD_PROD_OPT_PRICE,
			od.OD_PROD_OPT_CNT,
			od.OD_PROD_TOTAL_PRICE,
			od.OD_ST_DT,
			od.OD_ED_DT,
			od.OD_USER_NM,
			od.OD_USER_CALL,
			od.OD_ORDER_STAT,
			od.OD_STAT,
			od.OD_END_DATE
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_STORE_CATEGORY != 'CD002004'
			and om.ORDER_USER_ID = #user_id#
			group by om.ORDER_ID
			order by om.REG_DT DESC
			limit #sql_limit#
	]]>
	</select>
	<select id="get_site_my_order_market_detail_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			om.ORDER_SEQ,               
			om.ORDER_USER_ID,
			(select base_product_tb.PROD_IMG_1 from base_product_tb where  base_product_tb.PROD_ID = od.OD_PROD_ID) as PROD_IMG_1,
			od.OD_ORDER_ID,
			od.OD_STORE_ID,
			(select base_store_tb.STORE_NM from base_store_tb where  base_store_tb.STORE_ID = od.OD_STORE_ID) as STORE_NM,
			od.OD_PROD_ID,
			od.OD_PROD_NM,
			od.OD_ROOM_SEQ,
			od.OD_STORE_CATEGORY,
			od.OD_PROD_CATEGORY,
			od.OD_PROD_PRICE,
			od.OD_PROD_PRICE_PERCENT,
			od.OD_PROD_OPT_SEQ,
			od.OD_PROD_OPT_NM,
			od.OD_PROD_OPT_PRICE,
			od.OD_PROD_OPT_CNT,
			od.OD_PROD_TOTAL_PRICE,
			od.OD_ST_DT,
			od.OD_ED_DT,
			od.OD_USER_NM,
			od.OD_USER_CALL,
			od.OD_ORDER_STAT,
			od.OD_STAT,
			od.OD_END_DATE
		from base_order_tb om, base_order_prod_detail_tb od
		where 1
			and od.OD_ORDER_ID = om.ORDER_ID
			and od.OD_STORE_CATEGORY = 'CD002004'
			and om.ORDER_USER_ID = #user_id#
			group by om.ORDER_ID
			order by om.REG_DT DESC
			limit #sql_limit#
	]]>
	</select>
	
	<!--    -->
	<select id="get_cart4_store_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
	<![CDATA[
		select
			od.STORE_ID,
			od.STORE_NM,
			st.STORE_MARKET_DEFAULT_DELIVERY_PRICE,
			st.STORE_MARKET_FREE_DELIVERY_PRICE,
			st.STORE_MARKET_JEJU_DELIVERY_PRICE
		from base_cart_tb od, base_store_tb st
		where 1
			and od.STORE_CATEGORY = 'CD002004'
			and od.STORE_ID = st.STORE_ID
			and od.USER_ID = #user_id#
			group by od.STORE_ID
			order by od.CART_SEQ DESC
	]]>
	</select>
	
	<!--    -->
	<delete id="delete_delivery_price" parameterClass="BaseShopVO" >
	<![CDATA[
		delete from base_order_store_delivery_tb
		where 1
			and ORDER_ID = #order_id#
	]]>
	</delete>
	
	<!--   .    -->
	<insert id="insert_delivery_price" parameterClass="BaseShopVO" >
	<![CDATA[
		insert into base_order_store_delivery_tb
		(
		ORDER_ID, STORE_ID, OSD_BASE, OSD_ORDER_PRICE, OSD_DELIVERY_PRICE
		) 
		values
		(
		#order_id#, #store_id#, #osd_base#, #osd_order_price#, #osd_delivery_price#
		)
	]]>
	</insert>
	
	<!--   -->
	<select id="get_cart_addr_list" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select
				ADDR_SEQ,
				USER_ID,
				ADDR_DEFAULT,
				ADDR_NM,
				ADDR_HP,
				ADDR_EMAIL,
				ADDR_ZIP,
				ADDR_1,
				ADDR_2,
				DEL_ST,
				substr(REG_DT,1,19) as REG_DT, 
				substr(MOD_DT,1,19) as MOD_DT
			from base_addr_tb 
			where 1 
				and DEL_ST = 'N' 
				and USER_ID = #user_id# 
			order by ADDR_SEQ desc
		]]>
	</select>
	
	<!--    -->
	<insert id="add_addr_info" parameterClass="BaseShopVO">
		<![CDATA[
			insert into base_addr_tb
			(
				USER_ID,
				ADDR_DEFAULT,
				ADDR_NM,
				ADDR_HP,
				ADDR_EMAIL,
				ADDR_ZIP,
				ADDR_1,
				ADDR_2,
				DEL_ST,
				REG_DT
			) values (
				#user_id#,
				#addr_default#,
				#addr_nm#,
				#addr_hp#,
				#addr_email#,
				#addr_zip#,
				#addr_1#,
				#addr_2#,
				'N',
				now()
			)
		]]>
	</insert>
	
	<!--    . -->
	<update id="add_member_info" parameterClass="BaseShopVO">
		<![CDATA[
			update base_member_tb set
		]]>
		<isNotEmpty property="user_nm" >
		<![CDATA[
				USER_NM = #user_nm#,
		]]>
		</isNotEmpty>
		<![CDATA[
				USER_HP = #user_hp#,
				USER_EMAIL = #user_email#
			where USER_ID = #user_id#
		]]>
	</update>
	
	<!--    -->
	<select id="get_cart_opt_data" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
		select 
			CART_SEQ,
			USER_ID,
			STORE_CATEGORY,
			PROD_ID,
			STORE_ID,
			PROD_ROOM_SEQ,
			TOTAL_PRICE,
			OPT_SEQS,
			OPT_PRICES,
			OPT_CNTS
		from base_cart_tb
		where 1
			and CART_SEQ = #cart_seq#
		]]>
	</select>
	
	<!--    .  -->
	<update id="update_option" parameterClass="BaseShopVO">
		<![CDATA[
			update base_cart_tb set
				OPT_CNTS = #opt_cnts#,
				TOTAL_PRICE = #total_price#
			where CART_SEQ = #cart_seq#
		]]>
	</update>
	
	<update id="set_update_order_master" parameterClass="BaseShopVO">
		<![CDATA[
			update base_order_tb set
				ORDER_PAY_VBANK_CD = #order_pay_vbank_cd#,
				ORDER_PAY_VBANK_NM = #order_pay_vbank_nm#,
				ORDER_PAY_VBANK_NUMBER = #order_pay_vbank_number#,
				ORDER_PAY_VBANK_USER = #order_pay_vbank_user#,
				ORDER_PAY_STAT = #order_pay_stat#,
		]]>
		<isEqual property="order_pay_stat" compareValue="R">
		<![CDATA[
				ORDER_ST = 'READY'
		]]>
		</isEqual>
		<isEqual property="order_pay_stat" compareValue="I">
		<![CDATA[
				ORDER_ST = 'PAYMENT',
				ORDER_PAY_DATE = now()
		]]>
		</isEqual>						
		<isEqual property="order_pay_stat" compareValue="C">
		<![CDATA[
				ORDER_ST = 'CANCEL',
				ORDER_CANCEL_DATE = now()
		]]>
		</isEqual>						
		<![CDATA[
			where ORDER_ID = #order_id#
		]]>
	</update>
	<update id="set_update_order_detail" parameterClass="BaseShopVO">
		<![CDATA[
			update base_order_prod_detail_tb set
		]]>
		<isEqual property="order_pay_stat" compareValue="I">
		<![CDATA[
				OD_ORDER_STAT = 'PAYMENT'
		]]>
		</isEqual>						
		<isEqual property="order_pay_stat" compareValue="C">
		<![CDATA[
				OD_ORDER_STAT = 'CANCEL'
		]]>
		</isEqual>						
		<![CDATA[
			where OD_ORDER_ID = #order_id#
		]]>
	</update>
	
	<select id="get_vbank_info" parameterClass="BaseShopVO" resultClass="BaseShopVO">
		<![CDATA[
			select 
				BANK_CD,
				BANK_NM,
				BANK_NUM,
				BANK_USER,
				BANK_PAY_STAT
			from base_order_virtual_tb
			where 1
				and BANK_PAY_STAT = 'R'
				and ORDER_ID = #order_id#
		]]>
	</select>
	
	<update id="order_all_cancel" parameterClass="BaseShopVO">
		<![CDATA[
			update base_order_tb set
				ORDER_ST = 'CANCELING'
			where ORDER_ID = #order_id#
		]]>
	</update>
	
	<update id="orderdetail_all_cancel" parameterClass="BaseShopVO">
		<![CDATA[
			update base_order_prod_detail_tb set
				OD_ORDER_STAT = 'CANCELING',
				OD_CANCELING_DT = now()
			where OD_ORDER_ID = #order_id#
		]]>
	</update>
	
	<update id="orderdetail_sel_cancel" parameterClass="BaseShopVO">
		<![CDATA[
			update base_order_prod_detail_tb set
				OD_ORDER_STAT = 'CANCELING'
				OD_CANCELING_DT = now()
			where OD_SEQ = #od_seq#
		]]>
	</update>
	
	
	
	
</sqlMap>